<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â∞çË©±Á∑¥Áøí - Paris Trip</title>
    <style>
        :root {
            --primary-color: #007bff; 
            --secondary-color: #27ae60;
            --accent-color: #f0f7ff;
            --text-dark: #333;
            --text-light: #7f8c8d;
            --shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        body {
            margin: 0;
            background-color: #f4f7f6;
            background-image: repeating-linear-gradient(45deg, transparent, transparent 25px, rgba(0,123,255,0.03) 25px, rgba(0,123,255,0.03) 26px);
            display: flex;
            justify-content: center;
            min-height: 100vh;
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
        }

        .dialogue-container {
            width: 95%;
            max-width: 800px;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
        }

        /* È†ÇÈÉ®Â∞éË¶ΩÂàó */
        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.95);
            padding: 12px 20px;
            border-radius: 50px;
            box-shadow: var(--shadow);
        }

        /* ËøîÂõûÊåâÈàïÊ®£ÂºèÂÑ™Âåñ */
        .back-btn {
            border: none;
            background: var(--accent-color);
            color: var(--primary-color);
            padding: 8px 18px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1em;
            transition: 0.3s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .back-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .dialogue-screen {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .speech-bubble {
            padding: 20px 25px;
            border-radius: 20px;
            max-width: 85%;
            box-shadow: var(--shadow);
            background: white;
            animation: slideIn 0.4s ease forwards;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .speech-bubble.left {
            align-self: flex-start;
            border-bottom-left-radius: 0;
            border-left: 8px solid var(--primary-color);
        }

        .speech-bubble.right {
            align-self: flex-end;
            background: #f9fffb;
            border-bottom-right-radius: 0;
            border-right: 8px solid var(--secondary-color);
        }

        .speaker-name {
            font-size: 0.85em;
            font-weight: bold;
            color: var(--text-light);
            margin-bottom: 8px;
            display: block;
            text-transform: uppercase;
        }

        .text-en {
            font-size: 1.3em;
            color: var(--text-dark);
            line-height: 1.5;
            margin-bottom: 12px;
        }

        .text-zh {
            font-size: 1.1em;
            color: #666;
            padding-top: 10px;
            border-top: 1px dashed rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }

        .action-btn {
            background: white;
            border: 1.5px solid var(--primary-color);
            color: var(--primary-color);
            border-radius: 8px;
            padding: 6px 15px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        .action-btn:hover { background: var(--primary-color); color: white; }

        .navigation-controls {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
            padding-bottom: 40px;
        }

        .nav-button {
            padding: 12px 35px;
            border-radius: 50px;
            border: none;
            background: var(--primary-color);
            color: white;
            font-weight: bold;
            cursor: pointer;
            box-shadow: var(--shadow);
        }
    </style>
</head>

<body>

    <div class="dialogue-container">
        <div class="top-nav">
            <button class="back-btn" onclick="location.href='menu.html'">üè† ËøîÂõûÈÅ∏ÂñÆ</button>
            <div style="color:var(--primary-color); font-weight:bold;">Á¨¨ <span id="page-num">1</span> / <span id="total-pages"></span> È†Å</div>
        </div>

        <div id="dialogue-screen" class="dialogue-screen"></div>

        <div class="navigation-controls">
            <button class="nav-button" id="prevBtn" onclick="changePage(-1)" style="background:#95a5a6;">‰∏ä‰∏ÄÈ†Å</button>
            <button class="nav-button" id="nextBtn" onclick="changePage(1)">‰∏ã‰∏ÄÈ†Å</button>
        </div>
    </div>

    <script>
        const dialogues = [
            { speaker: "John", en: "Hi, Stephanie. I have some great news! I‚Äôm going on vacation soon.", zh: "Âó®ÔºåStephanie„ÄÇÊàëÊúâÂÄãÂ•ΩÊ∂àÊÅØÔºÅÊàëÂæàÂø´Ë¶ÅÂéªÂ∫¶ÂÅá‰∫Ü„ÄÇ" },
            { speaker: "Stephanie", en: "That‚Äôs great, John! Where are you going? When will you leave?", zh: "Â§™Ê£í‰∫ÜÔºåJohnÔºÅ‰Ω†Ë¶ÅÂéªÂì™Ë£°Ôºü‰ªÄÈ∫ºÊôÇÂÄôÂá∫ÁôºÔºü" },
            { speaker: "John", en: "I'm going to Paris in a month. I know you've been there, and I want to ask you a few questions.", zh: "Êàë‰∏ÄÂÄãÊúàÂæåË¶ÅÂéªÂ∑¥Èªé„ÄÇÊàëÁü•ÈÅìÂ¶≥ÂéªÈÅéÔºåÊâÄ‰ª•ÊÉ≥ÂïèÂ¶≥ÂπæÂÄãÂïèÈ°å„ÄÇ" },
            { speaker: "Stephanie", en: "Sure, John. I‚Äôll try to help you.", zh: "Áï∂ÁÑ∂ÂèØ‰ª•ÔºåJohn„ÄÇÊàëÊúÉÁõ°ÂäõÂπ´‰Ω†„ÄÇ" },
            { speaker: "John", en: "Thank you. How hard is it to navigate the subway?", zh: "Ë¨ùË¨ùÂ¶≥„ÄÇÊê≠Âú∞ÈêµÔºàÂ∞éËà™ÔºâÊúÉÂæàÂõ∞Èõ£ÂóéÔºü" },
            { speaker: "Stephanie", en: "Don‚Äôt worry. The Paris Metro is very convenient.", zh: "Âà•ÊìîÂøÉ„ÄÇÂ∑¥ÈªéÂú∞ÈêµÔºàMetroÔºâÈùûÂ∏∏Êñπ‰æø„ÄÇ" },
            { speaker: "John", en: "The Metro ‚Äì is that the name for the subway in Paris?", zh: "Metro ‚Äî‚Äî ÈÄôÊòØÂ∑¥ÈªéÂ∞çÂú∞ÈêµÁöÑÁ®±ÂëºÂóéÔºü" },
            { speaker: "Stephanie", en: "That‚Äôs right. There are signs and maps in many different languages.", zh: "Ê≤íÈåØ„ÄÇÈÇ£Ë£°ÊúâË®±Â§ö‰∏çÂêåË™ûË®ÄÁöÑÊåáÊ®ôÂíåÂú∞Âúñ„ÄÇ" },
            { speaker: "John", en: "How does a passenger purchase a ticket? Is the price very high?", zh: "‰πòÂÆ¢Ë¶ÅÊÄéÈ∫ºË≤∑Á•®ÔºüÁ•®ÂÉπÊúÉÂæàË≤¥ÂóéÔºü" },
            { speaker: "Stephanie", en: "Tickets are cheap. There are employees selling tickets at every station, or machines that take credit cards.", zh: "Á•®Âæà‰æøÂÆú„ÄÇÊØèÁ´ôÈÉΩÊúâÂîÆÁ•®Âì°Ôºå‰πüÊúâÊé•Âèó‰ø°Áî®Âç°ÊîØ‰ªòÁöÑÂîÆÁ•®Ê©ü„ÄÇ" },
            { speaker: "John", en: "What should I do if there are large crowds? Is there a way to avoid them?", zh: "Â¶ÇÊûú‰∫∫ÂæàÂ§öÊÄéÈ∫ºËæ¶ÔºüÊúâËæ¶Ê≥ïÈÅøÈñã‰∫∫ÊΩÆÂóéÔºü" },
            { speaker: "John", en: "I will be there for two weeks, and I‚Äôll probably ride it every day.", zh: "ÊàëÊúÉÂú®ÈÇ£ÂæÖÂÖ©ÂÄãÊòüÊúüÔºåËÄå‰∏îÂèØËÉΩÊØèÂ§©ÈÉΩÊúÉÊê≠Âú∞Èêµ„ÄÇ" },
            { speaker: "Stephanie", en: "In that case, you should probably buy a book of tickets or a Metro pass.", zh: "Êó¢ÁÑ∂ÈÄôÊ®£Ôºå‰Ω†ÂèØËÉΩÊáâË©≤Ë≤∑‰∏ÄÊï¥Êú¨Â•óÁ•®ÊàñÂú∞ÈêµÈÄöË°åË≠â„ÄÇ" },
            { speaker: "Stephanie", en: "You‚Äôll probably have to transfer between lines. Just pay attention to the signs.", zh: "‰Ω†ÂèØËÉΩÈúÄË¶ÅËΩâ‰πò„ÄÇÂè™Ë¶ÅÁïôÊÑèÊåáÊ®ôÂ∞±Ê≤íÂïèÈ°å‰∫Ü„ÄÇ" },
            { speaker: "John", en: "Thank you. You have been very helpful. I feel more confident now.", zh: "Ë¨ùË¨ù‰Ω†„ÄÇÂ¶≥Âπ´‰∫ÜÂ§ßÂøôÔºåÊàëÁèæÂú®Ë¶∫ÂæóÊúâ‰ø°ÂøÉÂ§ö‰∫Ü„ÄÇ" }
        ];

        let currentPage = 0;
        const linesPerPage = 3;

        function renderPage() {
            const screen = document.getElementById('dialogue-screen');
            const totalPages = Math.ceil(dialogues.length / linesPerPage);
            screen.innerHTML = ''; 

            const start = currentPage * linesPerPage;
            const pageLines = dialogues.slice(start, start + linesPerPage);

            pageLines.forEach((item, index) => {
                const isLeft = item.speaker === "John";
                const bubble = document.createElement('div');
                bubble.className = `speech-bubble ${isLeft ? "left" : "right"}`;
                const safeEn = item.en.replace(/'/g, "\\'");

                bubble.innerHTML = `
                    <span class="speaker-name">${item.speaker}</span>
                    <div class="text-en">${item.en}</div>
                    <div class="text-zh" id="zh-${index}" style="display:none;">${item.zh}</div>
                    <div class="bubble-actions">
                        <button class="action-btn" onclick="speakText('${safeEn}')">üîä ÁôºÈü≥</button>
                        <button class="action-btn" style="border-color:#ccc; color:#666;" onclick="toggleTranslation(${index})">Êñá ÁøªË≠Ø</button>
                    </div>
                `;
                screen.appendChild(bubble);
            });

            document.getElementById('page-num').innerText = currentPage + 1;
            document.getElementById('total-pages').innerText = totalPages;
            document.getElementById('prevBtn').style.visibility = currentPage === 0 ? "hidden" : "visible";
            document.getElementById('nextBtn').innerText = (currentPage === totalPages - 1) ? "ÂÆåÊàêÁ∑¥Áøí" : "‰∏ã‰∏ÄÈ†Å ‚Üí";
        }

        function changePage(step) {
            const totalPages = Math.ceil(dialogues.length / linesPerPage);
            if (currentPage + step >= 0 && currentPage + step < totalPages) {
                currentPage += step;
                renderPage();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (currentPage + step === totalPages) {
                location.href = 'menu.html'; // ÂÆåÊàêÂæå‰πüËá™ÂãïÂõûÈ¶ñÈ†Å
            }
        }

        function toggleTranslation(index) {
            const zhText = document.getElementById(`zh-${index}`);
            zhText.style.display = zhText.style.display === 'none' ? 'block' : 'none';
        }

        function speakText(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = 'en-US';
            msg.rate = 0.85;
            window.speechSynthesis.speak(msg);
        }

        window.onload = renderPage;
    </script>
</body>
</html>
