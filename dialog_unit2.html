<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°è©±ç·´ç¿’ - Central Park</title>
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            background-image: repeating-linear-gradient(
                45deg, 
                transparent, 
                transparent 25px, 
                var(--accent-color) 25px, 
                var(--accent-color) 26px
            );
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .dialogue-container {
            width: 95%;
            max-width: 800px;
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            background: rgba(255, 255, 255, 0.9);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: var(--shadow);
        }

        .progress-info { 
            color: var(--primary-color); 
            font-weight: bold; 
            font-size: 1.1em; 
        }

        .dialogue-screen {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 30px;
        }

        .speech-bubble {
            padding: 25px;
            border-radius: 20px;
            position: relative;
            max-width: 85%;
            box-shadow: var(--shadow);
            background: white;
            transition: all 0.3s ease;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Maria (å·¦å´) - ä½¿ç”¨ä¸»é¡Œè‰²æˆ–è¼”åŠ©è‰² */
        .speech-bubble.left {
            align-self: flex-start;
            border-bottom-left-radius: 0;
            border-left: 8px solid var(--primary-color);
        }

        /* Henry (å³å´) - ä½¿ç”¨æ·ºè‰²èƒŒæ™¯ */
        .speech-bubble.right {
            align-self: flex-end;
            background: var(--accent-color);
            border-bottom-right-radius: 0;
            border-right: 8px solid var(--secondary-color);
        }

        .speaker-name {
            font-size: 0.9em;
            font-weight: bold;
            color: var(--text-light);
            margin-bottom: 8px;
            display: block;
        }

        .text-en {
            font-size: 1.6em; /* ç¨å¾®èª¿æ•´å­—é«”ï¼Œå¹³è¡¡æ‰‹æ©Ÿé–±è®€æ„Ÿ */
            color: var(--text-dark);
            line-height: 1.4;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .text-zh {
            font-size: 1.2em;
            color: var(--text-light);
            padding-top: 12px;
            border-top: 1px dashed rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }

        .bubble-actions {
            display: flex;
            gap: 12px;
        }

        .action-btn {
            background: white;
            border: 1.5px solid var(--primary-color);
            color: var(--primary-color);
            border-radius: 8px;
            padding: 6px 16px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
        }

        .action-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .navigation-controls {
            margin-top: 40px;
            display: flex;
            justify-content: space-between;
            padding-bottom: 50px;
        }
    </style>
</head>

<body class="unit2"> <div class="dialogue-container">
        <div class="top-nav">
            <button style="border:none; background:none; cursor:pointer; color:var(--primary-color); font-weight:bold; font-size:1.1em;" onclick="location.href='menu.html'">ğŸ  è¿”å›é¸å–®</button>
            <div class="progress-info">ç¬¬ <span id="page-num">1</span> / <span id="total-pages"></span> é </div>
        </div>

        <div id="dialogue-screen" class="dialogue-screen"></div>

        <div class="navigation-controls">
            <button class="nav-button" id="prevBtn" onclick="changePage(-1)" style="background: var(--text-light);">ä¸Šä¸€é </button>
            <button class="nav-button" id="nextBtn" onclick="changePage(1)">ä¸‹ä¸€é </button>
        </div>
    </div>

    <script>
        const dialogues = [
          { speaker: "Maria", en: `Excuse me, sir. Could you help me?`, zh: "æ‰“æ“¾ä¸€ä¸‹å…ˆç”Ÿï¼Œå¯ä»¥å¹«æˆ‘ä¸€å€‹å¿™å—ï¼Ÿ" },
          { speaker: "Henry", en: `I can try. Whatâ€™s up?`, zh: "æˆ‘å¯ä»¥è©¦è©¦çœ‹ï¼Œæ€éº¼äº†å—ï¼Ÿ" },
          { speaker: "Maria", en: `I want to go to Central Park. Do you know how to get there from here?`, zh: "æˆ‘è¦å»ä¸­å¤®å…¬åœ’ï¼Œä½ çŸ¥é“å¾é€™è£¡æ€éº¼å»å—ï¼Ÿ" },
          { speaker: "Henry", en: `Yes, I do, but it is pretty far away.`, zh: "æˆ‘çŸ¥é“ï¼Œä¸éé‚£è£¡é›¢é€™è£¡æ»¿é çš„ã€‚" },
          { speaker: "Maria", en: `Oh, really? Isnâ€™t Central Park in Manhattan?`, zh: "å–”ï¼ŒçœŸçš„å—ï¼Ÿä¸­å¤®å…¬åœ’ä¸æ˜¯åœ¨æ›¼å“ˆé “å—ï¼Ÿ" },
          { speaker: "Henry", en: `Yes, but weâ€™re in Lower Manhattan now. Central Park is quite far from here.`, zh: "æ²’éŒ¯ï¼Œä¸éæˆ‘å€‘ç¾åœ¨åœ¨æ›¼å“ˆé “å—é‚Šï¼Œä¸­å¤®å…¬åœ’é›¢é€™è£¡é‚„æœ‰ä¸€æ®µè·é›¢ã€‚" },
          { speaker: "Maria", en: `Oh, I see. How do I get there? Can I walk?`, zh: "åŸä¾†å¦‚æ­¤ã€‚é‚£æˆ‘è¦æ€éº¼å»ï¼Ÿå¯ä»¥ç”¨èµ°çš„å—ï¼Ÿ" },
          { speaker: "Henry", en: `Well, you could, but it would take over an hour.`, zh: "å—¯ï¼Œä½ å¯ä»¥èµ°è·¯å»ï¼Œä½†å¤§æ¦‚è¦ä¸€å€‹å¤šå°æ™‚ã€‚" },
          { speaker: "Maria", en: `Oh, no! I need to meet my friend there in 30 minutes. What should I do?`, zh: "ç³Ÿç³•ï¼æˆ‘ä¸‰ååˆ†é˜å¾Œè¦åœ¨é‚£è£¡è·Ÿæœ‹å‹è¦‹é¢ï¼Œæ€éº¼è¾¦ï¼Ÿ" },
          { speaker: "Henry", en: `Donâ€™t worry. You can take the subway.`, zh: "åˆ¥æ“”å¿ƒï¼Œä½ å¯ä»¥æ­åœ°éµã€‚" },
          { speaker: "Maria", en: `I havenâ€™t ridden the subway in New York yet. Iâ€™ve heard it is very old.`, zh: "æˆ‘é‚„æ²’åœ¨ç´ç´„æ­éåœ°éµï¼Œæˆ‘è½èªªåœ°éµå¾ˆè€èˆŠã€‚" },
          { speaker: "Henry", en: `Yes, it is, and itâ€™s not very clean. However, it will take you to Central Park.`, zh: "æ˜¯å•Šï¼Œè»Šå­å¾ˆè€ï¼Œè€Œä¸”ä¹Ÿä¸æ˜¯å¾ˆä¹¾æ·¨ï¼Œä¸éå¯ä»¥å¸¶ä½ åˆ°ä¸­å¤®å…¬åœ’ã€‚" },
          { speaker: "Maria", en: `OK. Iâ€™ll try it. Where should I go?`, zh: "å¥½å§ï¼Œæˆ‘è©¦è©¦çœ‹ã€‚é‚£æˆ‘æ‡‰è©²å¾€å“ªè£¡èµ°ï¼Ÿ" },
          { speaker: "Henry", en: `Walk down this street until you get to Chrystie Street. Then, turn left.`, zh: "æ²¿è‘—é€™æ¢è·¯ç›´èµ°ï¼Œèµ°åˆ° Chrystie Streetï¼Œå†å·¦è½‰ã€‚" },
          { speaker: "Maria", en: `OK, then what?`, zh: "å¥½ï¼Œä¹‹å¾Œå‘¢ï¼Ÿ" },
          { speaker: "Henry", en: `Walk for about five minutes, until you see Grand Street Station. There, you will get on the subway train called the B Train.`, zh: "å†èµ°å¤§ç´„äº”åˆ†é˜ï¼Œä½ æœƒçœ‹åˆ° Grand Street è»Šç«™ã€‚åœ¨é‚£è£¡æ­ä¸€ç­å«åš B ç·šçš„åœ°éµã€‚" },
          { speaker: "Maria", en: `Then what do I do?`, zh: "ä¹‹å¾Œæˆ‘è¦æ€éº¼åšï¼Ÿ" },
          { speaker: "Henry", en: `You will ride the subway for eight stops. Get off at the 72nd Street Station.`, zh: "åœ¨åœ°éµä¸Šåå…«ç«™ï¼Œåœ¨ 72 è¡—è»Šç«™ä¸‹è»Šã€‚" },
          { speaker: "Maria", en: `And then Iâ€™ll be at Central Park?`, zh: "ä¸‹è»Šä¹‹å¾Œå°±åˆ°ä¸­å¤®å…¬åœ’äº†å—ï¼Ÿ" },
          { speaker: "Henry", en: `Yes, when you come out of the subway station, youâ€™ll see the park. You canâ€™t miss it!`, zh: "å°ï¼Œå‡ºäº†åœ°éµç«™ä½ å°±æœƒçœ‹åˆ°å…¬åœ’ï¼Œä¸€å®šçœ‹å¾—åˆ°ã€‚" },
          { speaker: "Maria", en: `Thank you! You have been so helpful.`, zh: "å¤ªè¬è¬ä½ äº†ï¼Œä½ å¹«äº†æˆ‘å¾ˆå¤§çš„å¿™ã€‚" },
          { speaker: "Henry", en: `Youâ€™re welcome. Where will you meet your friend?`, zh: "ä¸å®¢æ°£ã€‚ä½ è¦åœ¨å“ªè£¡è·Ÿæœ‹å‹è¦‹é¢ï¼Ÿ" },
          { speaker: "Maria", en: `I will meet her at the lake in Central Park.`, zh: "æˆ‘è¦åœ¨ä¸­å¤®å…¬åœ’è£¡çš„æ¹–é‚Šè·Ÿå¥¹è¦‹é¢ã€‚" },
          { speaker: "Henry", en: `OK, perfect. That is very close to 72nd Street Station. You will see signs and a map when you get there.`, zh: "é‚£å°±å‰›å¥½ï¼Œæ¹–é›¢ 72 è¡—è»Šç«™å¾ˆè¿‘ï¼Œä½ åˆ°é‚£è£¡æœƒçœ‹åˆ°æŒ‡ç¤ºç‰Œå’Œåœ°åœ–ã€‚" },
          { speaker: "Maria", en: `Thank you so much for these directions!`, zh: "çœŸçš„éå¸¸æ„Ÿè¬ä½ å¹«æˆ‘æŒ‡è·¯ï¼" },
          { speaker: "Henry", en: `Itâ€™s nothing. Enjoy your visit to Central Park!`, zh: "å°äº‹æƒ…è€Œå·²ï¼Œç¥ä½ ç©å¾—é–‹å¿ƒï¼Œå¥½å¥½äº«å—ä¸­å¤®å…¬åœ’ã€‚" }
        ];

        let currentPage = 0;
        const linesPerPage = 2;

        function renderPage() {
            const screen = document.getElementById('dialogue-screen');
            const totalPages = Math.ceil(dialogues.length / linesPerPage);
            screen.innerHTML = ''; 

            const start = currentPage * linesPerPage;
            const pageLines = dialogues.slice(start, start + linesPerPage);

            pageLines.forEach((item, index) => {
                const isMaria = item.speaker === "Maria";
                const bubble = document.createElement('div');
                bubble.className = `speech-bubble ${isMaria ? "left" : "right"}`;
                
                bubble.innerHTML = `
                    <span class="speaker-name">${item.speaker}</span>
                    <div class="text-en">${item.en}</div>
                    <div class="text-zh" id="zh-${index}" style="display:none;">${item.zh}</div>
                    <div class="bubble-actions">
                        <button class="action-btn" onclick="speakText(\`${item.en.replace(/`/g, '\\`').replace(/\$/g, '\\$')}\`)">ğŸ”Š ç™¼éŸ³</button>
                        <button class="action-btn" onclick="toggleTranslation(${index})">æ–‡ ç¿»è­¯</button>
                    </div>
                `;
                screen.appendChild(bubble);
            });

            document.getElementById('page-num').innerText = currentPage + 1;
            document.getElementById('total-pages').innerText = totalPages;
            document.getElementById('prevBtn').style.visibility = currentPage === 0 ? "hidden" : "visible";
            document.getElementById('nextBtn').innerText = (currentPage === totalPages - 1) ? "å®Œæˆç·´ç¿’" : "ä¸‹ä¸€é  â†’";
        }

        function changePage(step) {
            const totalPages = Math.ceil(dialogues.length / linesPerPage);
            if (currentPage + step >= 0 && currentPage + step < totalPages) {
                currentPage += step;
                renderPage();
                window.scrollTo({ top: 0, behavior: 'smooth' });
            } else if (currentPage + step === totalPages) {
                alert("æ­å–œï¼æ‚¨å·²å®Œæˆä¸­å¤®å…¬åœ’å–®å…ƒçš„å°è©±ç·´ç¿’ã€‚");
                location.href = 'menu.html';
            }
        }

        function toggleTranslation(index) {
            const zhText = document.getElementById(`zh-${index}`);
            zhText.style.display = zhText.style.display === 'none' ? 'block' : 'none';
        }

        function speakText(text) {
            window.speechSynthesis.cancel();
            const msg = new SpeechSynthesisUtterance(text);
            msg.lang = 'en-US';
            msg.rate = 0.9;
            window.speechSynthesis.speak(msg);
        }

        renderPage();
    </script>
</body>
</html>
